#%Module#####################################################################
# TACC local environment module file 		$Date: 2003/09/24 21:27:11 $
#
# This module file appends the relevant paths in /usr/local to the end
# of $PATH and $MANPATH. If you want the local software suite to be searched
# before the Cray-supplied paths, unload the `TACC' module and load the
# `local' module in your .login_user file.
#
# Do not edit this file directly as it is under RCS control.
#
#############################################################################
global env
proc ModulesHelp { } {
puts stderr "The TACC modulefile defines the default paths and environment"
puts stderr "variables needed to use the local software and utilities"
puts stderr "available in /usr/local, placing them after the vendor-supplied"
puts stderr "paths in PATH and MANPATH.:"
}

###if { [ expr [is-loaded TACC] && ![module-info mode remove] ] } {
###	puts stderr "TACC module already loaded"
###	break	
###}

set sys        [uname sysname]
set node       nada

module load TACC_symbols

#
# Location of local modules
#
set mproot           "MODULEPATH_ROOT"
set modulepath_root  $env($mproot)
set moduleshome     "$modulepath_root/TACC"

#
# Load system specific modules or cluster module
#
if [ expr [ module-info mode load ] || [module-info mode display ] ] {

	if { [file exists $moduleshome/$node] } {
        	 module load $node
	} elseif { [file exists $moduleshome/cluster ] } {
        	 module load cluster
	}	
}

if [ module-info mode remove ] {


	if { [file exists $moduleshome/$node] } {
        	 module del $node
	} elseif { [file exists $moduleshome/cluster ] } {
        	 module del cluster
	}	
}
# ;;; Local Variables: ***
# ;;; mode:tcl ***
# ;;; End: ***
