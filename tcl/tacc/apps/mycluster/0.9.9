#%Module#####################################################################
# TACC local environment module file     $Date: 20.4.5/09/24 21:27:11 $
#
# This module file appends the relevant paths in /usr/local to the end
# of $PATH and $MANPATH. If you want the local software suite to be searched
# before the Cray-supplied paths, unload the `TACC' module and load the
# `local' module in your .login_user file.
#
# Do not edit this file directly as it is under RCS control.
#
#############################################################################
proc ModulesHelp { } {
puts stderr "The gridshell modulefile defines the default paths and environment"
puts stderr "variables needed to execute the TeraGrid usage utility available"
puts stderr "in /share/apps/teragrid/gridshell, placing them before the vendor-supplied"
puts stderr "paths in PATH and MANPATH.:"
}
module-whatis "Name: GridShell"
module-whatis "Version: 0.9.9"
module-whatis "Category: grid"
module-whatis "URL: http://www.tacc.utexas.edu"
module-whatis "Description: GridShell"

setenv GRIDSHELL_LOCATION /share/apps/teragrid/gridshell/mycluster
setenv MYCLUSTER_LOCATION /share/apps/teragrid/gridshell/mycluster
setenv _MYCLUSTER_DATA_AGENT $env(MYCLUSTER_LOCATION)/gtcsh-data-agent

if [info exists env(PERL5LIB)] {
    setenv PERL5LIB  $env(MYCLUSTER_LOCATION):$env(PERL5LIB)
} else {
    setenv PERL5LIB  $env(MYCLUSTER_LOCATION)
}

if [info exists env(PATH)] {
    setenv PATH $env(MYCLUSTER_LOCATION):$env(PATH)
}

if [info exists env(MANPATH)] {
    setenv MANPATH $env(MYCLUSTER_LOCATION)/man:$env(MANPATH)
}

# set prompt in mycluster mode
if [info exists env(gtcsh)] {
    if [info exists env(MYCLUSTER_SCREEN_SESSION)] {
        set prompt="mycluster($env(_MYCLUSTER_SCREEN_SESSION))% "
    } else {
        set prompt="mycluster% "
    }
}

set-alias gexit "$env(MYCLUSTER_LOCATION)/gtcsh_exit.sh; exit"
setenv _MYCLUSTER_SUBMIT_AGENT "$env(MYCLUSTER_LOCATION)/sge-agent.sh -user %U -resource %R %E"
setenv _MYCLUSTER_STRIDE 2


setenv _CONDOR_WORK_DIR /share/apps/teragrid/gridshell/condor
if [info exists env(PATH) ] {
    setenv PATH $env(_CONDOR_WORK_DIR)/bin:$env(PATH)
}



